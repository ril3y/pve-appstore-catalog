<!DOCTYPE html>
<html><head><title>Crawl4AI Playground</title>
<style>
body { font-family: sans-serif; max-width: 800px; margin: 40px auto; padding: 0 20px }
textarea, input { width: 100%; padding: 8px; margin: 8px 0; box-sizing: border-box }
textarea { height: 300px; font-family: monospace; font-size: 13px }
button { background: #2563eb; color: #fff; border: none; padding: 10px 24px; border-radius: 6px; cursor: pointer; font-size: 14px }
button:disabled { opacity: 0.5 }
pre { background: #f3f4f6; padding: 16px; border-radius: 8px; overflow: auto; max-height: 500px; white-space: pre-wrap }
</style></head><body>
<h1>Crawl4AI Playground</h1>
<label>URL to crawl:</label>
<input id="url" type="text" placeholder="https://example.com" />
<button id="btn" onclick="doCrawl()">Crawl</button>
<h3>Result (Markdown):</h3>
<pre id="result">Enter a URL and click Crawl...</pre>
<script>
async function doCrawl() {
  const btn = document.getElementById('btn');
  btn.disabled = true; btn.textContent = 'Crawling...';
  let url = document.getElementById('url').value.trim();
  if (url && !url.match(/^(https?|file):\/\//)) { url = 'https://' + url; document.getElementById('url').value = url; }
  try {
    const r = await fetch('/crawl', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ url }) });
    const d = await r.json();
    document.getElementById('result').textContent = d.success ? d.markdown : (d.error || d.detail || 'Unknown error');
  } catch(e) { document.getElementById('result').textContent = 'Error: ' + e.message }
  btn.disabled = false; btn.textContent = 'Crawl';
}
</script></body></html>
